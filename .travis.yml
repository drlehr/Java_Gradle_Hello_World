dist: xenial
language: java
script:
- gradle clean build
- tar -zcf hello_world_test_reports.tar.gz build/reports
- tar -zcf hello_world_executable_distributions.tar.gz build/distributions
- ls -R
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=$TRAVIS_BRANCH.$TRAVIS_BUILD_NUMBER
- echo "Just generated GIT_TAG"
- echo $GIT_TAG
- git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
- git push -q https://$GITPERM@github.com/CS3398-Maggia-Sup/Java_Gradle_Hello_World  --tags
- ls -R
deploy:
  provider: releases
  file_glob: true
  api_key:
    secure: "$GITPERM"
  file:
  - README.md
  - hello_world_test_reports.tar.gz
  - hello_world_executable_distributions.tar.gz
  skip_cleanup: true
  on:
    tags: false
env:
  global:
    secure: MmDlluDoSF1yMzcJbSQa70ye50rUc7ya0Pxj84hih8SbsCM3oW2tCc++yVzlwEvP2XHWh6HERTjXsXjSLyeCZmvkQMPfmQN8jy1clZtzP7fXLYltkD57epF0TdZgWapGzSSBVWtywobm0SJ8XbsE7Akb89BpfW8OEYHo3qASHFrUnsQt8QdO2I6Tz0OBL122xh4i/+bAlDGZYK7mFhl+z/9vKhdoFBYii/CeZoiR6aiXkM7WtTpcGCDwY22TneWv0zZ7/86h6gUPi9tsTeoNy8+tL40gJLjNOj7Fc/OlWUnwB9w5J89U1Soiqfljtld0yWhbURaUYyBcqiMU+/DUJ++NAyiEA26CGf+3/0wYFh3MfB6myga0cK2cOVMcygnQMZnZbiQVsH9Ujy60Z4mJUGRfG2nHoLtpwO6BYSY85uZi6LPG3hxkNZaVYpjQzCEbGNdQvdtm+NSD4z3KtgEOx/DgMzDu1OgAhl3hPIg2RhCmHMN4SOwI38MEZVrZBa6+DuUFNSAm5iCkIErXbRvucKnha1HThlOoCVujA9rHgea+HevFYikT3ozhGPu8TQi/NF2XOSOPeglvbvJS2cQqTGOe2nOJ4/sncVjndP9wIh0xT+0gNfZ12yRC2/5ap65zF4ziAmW07Tvbt8EXJVp00pjsbZY8+8M9i3UDOzgZ8bw=
