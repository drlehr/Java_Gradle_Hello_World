dist: xenial
language: java
script:
- gradle clean build
- tar -zcf hello_world_test_reports.tar.gz build/reports
- tar -zcf hello_world_executable_distributions.tar.gz build/distributions
- ls -R
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=$TRAVIS_BRANCH.$TRAVIS_BUILD_NUMBER
- echo "Just generated GIT_TAG"
- echo $GIT_TAG
- git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
- git push -q https://$GITPERM@github.com/CS3398-Maggia-Sup/Java_Gradle_Hello_World  --tags
- ls -R
deploy:
  provider: releases
  file_glob: true
  api_key:
    secure: "$GITPERM"
  file:
  - README.md
  - hello_world_test_reports.tar.gz
  - hello_world_executable_distributions.tar.gz
  skip_cleanup: true
  on:
    tags: false
env:
  global:
    secure: dKLc0h47lbR0ktJ1k1D+M7NDoXUZj86PrEjldmH4ImfNV9sw9iigNl5YiUHLSusT690SBujsnx1R1MbdmBZpd0Cw5k3NcQakR5gKZXBJa4QnrT8hC+Y/xmnCeUAeXrYIuKsaP4kkNtCLbIeOMt0xevdmvDOZxdrOHSHOrRW5Cv1s8rRpEwyDcAXh/QRhpD7be03s8/kTr2t2mRh53CaJcx7iYdd8c0pR1PI2KGSfNkLEjGxnqI413nDgE8jimTdEnDT2RtMFuHheUfBILO/+E+lfefKOutednbepZeJPdsMZdP2RsIFnSxY/rzaRswylzUNahVYI3OHE4kmrFGzxp7NcRuuGs96zIt6e5zriMP0AGCOcV81fl9ossYDEafZczHHtzMyNXDvdDxfgZWDfUAJ8v50XeWMfRR42FhXL7ioQtgaxJGpu8nZu8kiuQp7SB1F/u/VqWlwzxVajtU+OgwawAN5A+3fSEokDMxiigbH8IU0l0sk1w/mPG9o4faytU/M2dVANfSw7RUsAzVIOMmUAE2EX4UOdzlc260PH/5lK8qqhJWsEiv9jMG/STHoajhEPzfHLRTDEr89r7r3FX4KWV8HKcNiyQ5nwydHYKomtpLvJj9w+BN7ZT6E95eo1wPj6fbtj3ruNi7bJ9U/m2FeeXaNujMGaSlOW5jwjkTE=
